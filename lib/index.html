<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Papergen</title>
  </head>
  <body>
    <script>
      const electron = require('electron');
      const { bundlePath, configPath } = require('./config');

      const paperModules = require(bundlePath);
      const { pageConfigs, rendererOptions } = require(configPath);
      console.log(paperModules);
      console.log(pageConfigs, rendererOptions);

      const Renderer = require('./renderer');
      const renderer = new Renderer(rendererOptions);
      renderer.clear();

      pageConfigs.forEach(page => {
        renderer.renderPage(paperModules[page.name], page.options);
      });

      electron.ipcRenderer.send('render-complete', 0);
    </script>
  </body>
</html>
